<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>OpenResty - ChangeLog 1.0.15</title>
	<link href="fonts.css" tppabs="https://openresty.org/css/fonts.css" rel='stylesheet' type='text/css'>
	<!--
	If you ever wanted to use LESS instead of CSS...
	<link rel="stylesheet" type="text/less" href="/css/main.less">
	<script src="/js/less.js"></script>
	-->
	<link rel="stylesheet" type="text/css" href="main.css" tppabs="http://openresty.org/css/main.css">
</head>
<body>

<header role="header">
        <p class="site-name left">
                <a href="javascript:if(confirm(%27http://openresty.org/cn/.  \n\nThis file was not retrieved by Teleport Ultra, because the server reports that this file cannot be found.  \n\nDo you want to open it from the server?%27))window.location=%27http://openresty.org/cn/.%27" tppabs="http://openresty.org/cn/.">OpenResty</a>
                <small>通过扩展 NGINX 和 Lua 实现的可伸缩的 Web 平台</small>
        </p><!-- / site-name -->

        <form action="http://openresty.org/cn/search.html" class="right">
                <fieldset>
                        <input type="search" name="query" id="search"
                               placeholder="搜索 OpenResty.org 中文站" required>
                </fieldset>
        </form>
</header>


	<div id="wrapper">
		<div class="sidebar sleft">
			<nav id="nav">
<ul>
<li><a href="index.htm" tppabs="http://openresty.org/cn/openresty.html">概览</a></li>
<li><a href="components.html" tppabs="http://openresty.org/cn/components.html">组件</a></li>
<li><a href="getting-started.html" tppabs="http://openresty.org/cn/getting-started.html">新手上路</a></li>
<li><a href="samples.html" tppabs="http://openresty.org/cn/samples.html">样例</a></li>
<li><a href="benchmark.html" tppabs="http://openresty.org/cn/benchmark.html">性能评测</a></li>
<li><a href="presentations.html" tppabs="http://openresty.org/cn/presentations.html">幻灯片</a></li>
<li><a href="ebooks.html" tppabs="http://openresty.org/cn/ebooks.html">电子图书</a></li>
<li><a href="resources.html" tppabs="http://openresty.org/cn/resources.html">资源</a></li>
<li><a href="download.html" tppabs="http://openresty.org/cn/download.html">下载</a></li>
<li><a href="installation.html" tppabs="http://openresty.org/cn/installation.html">安装</a></li>
<li><a href="changes.html" tppabs="http://openresty.org/cn/changes.html">变更历史</a></li>
<li><a href="quality-assurance.html" tppabs="http://openresty.org/cn/quality-assurance.html">测试</a></li>
<li><a href="contact-us.html" tppabs="http://openresty.org/cn/contact-us.html">联系我们</a></li>
<li><a href="javascript:if(confirm(%27https://openresty.org/survey/cn  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27https://openresty.org/survey/cn%27" tppabs="https://openresty.org/survey/cn">用户问卷调查</a></li>
<li><a href="donate-online.html" tppabs="http://openresty.org/cn/donate-online.html">捐助</a></li>
<li><a href="donors.html" tppabs="http://openresty.org/cn/donors.html">捐款者</a></li>
<li><a href="about.html" tppabs="http://openresty.org/cn/about.html">关于</a></li>
<li><a href="javascript:if(confirm(%27http://openresty.org/en/  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://openresty.org/en/%27" tppabs="http://openresty.org/en/">English Site</a></li>
</ul>

			</nav><!-- / nav -->

<ul class="buttons">
    <!-- <li><a href="#" class="btn rss">RSS Feed</a></li> -->
    <li>
        <!-- <a href="#" class="btn paypal">Donate with PayPal</a> -->
        <form name="_xclick" action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_blank">
        <input type="hidden" name="cmd" value="_xclick">
        <input type="hidden" name="business" value="agentzh@gmail.com">
        <input type="hidden" name="item_name" value="OpenResty Donation (in USD)">
        <input type="hidden" name="currency_code" value="USD">
        <input type="hidden" name="amount" value="">
        <input type="image" src="donate_paypal.gif" tppabs="http://openresty.org/images/donate_paypal.gif" border="0" name="submit" alt="Donate with PayPal">
        </form>
    </li>
</ul>


		</div><!-- / sidebar left -->
		
		<section id="main">
<div class="item">
        <header>
                <h2>ChangeLog 1.0.15</h2>
                <small>
                    <a href="yichun-zhang.html" tppabs="http://openresty.org/cn/yichun-zhang.html">
                    Yichun Zhang
                    </a>,
                    16 May 2012 (created 13 May 2012)</small>
                <div class="options">
                        <!--
                        <a href="#" class="trigger">Show Options</a>
                        <ul class="first-level">
                                <li><a href="#">close</a></li>
                                <li><a href="#">close others</a></li>
                                <li><a href="#">view</a></li>
                                <li><a href="#">fields</a></li>
                                <li><a href="#">syncing</a></li>
                                <li><a href="#">permalink</a></li>
                                <li><a href="#">references</a></li>
                                <li>
                                        <a href="#">jump</a>
                                        <ul class="second-level">
                                                <li><a href="#">Benchmark</a></li>
                                                <li><a href="#">Presentations</a></li>
                                                <li><a href="#">eBooks</a></li>
                                        </ul>
                                </li>
                        </ul>
                        -->
                </div><!-- / options -->
        </header>
        <div class="body">
<h1 id="mainline-version-1.0.15.5---16-may-2012">Mainline Version 1.0.15.5 - 16 May 2012</h1>
<ul>
<li>upgraded <a href="luajit.html" tppabs="http://openresty.org/cn/luajit.html">LuaJIT</a> to 2.0.0beta10.
<ul>
<li>see changes here: <a href="javascript:if(confirm(%27http://luajit.org/changes.html  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://luajit.org/changes.html%27" tppabs="http://luajit.org/changes.html" class="uri">http://luajit.org/changes.html</a></li>
</ul></li>
<li>feature: added the <code>--with-luajit-xcflags=FLAGS</code> option to <code>./configure</code> to add more C compiler options to <a href="luajit.html" tppabs="http://openresty.org/cn/luajit.html">LuaJIT</a>'s build system.</li>
<li>upgraded <a href="lua-nginx-module.html" tppabs="http://openresty.org/cn/lua-nginx-module.html">Lua Nginx Module</a> to 0.5.0rc28.
<ul>
<li>bugfix: <a href="javascript:if(confirm(%27http://wiki.nginx.org/HttpLuaModule  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://wiki.nginx.org/HttpLuaModule#ngx.req.socket%27" tppabs="http://wiki.nginx.org/HttpLuaModule#ngx.req.socket">ngx.req.socket()</a> did not honor the <code>Expect: 100-continue</code> request header and could hang. thanks Matthieu Tourne for the patch in <a href="javascript:if(confirm(%27https://github.com/chaoslawful/lua-nginx-module/pull/107  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27https://github.com/chaoslawful/lua-nginx-module/pull/107%27" tppabs="https://github.com/chaoslawful/lua-nginx-module/pull/107">pull request #107</a>.</li>
<li>bugfix: the <a href="javascript:if(confirm(%27http://wiki.nginx.org/HttpLuaModule  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://wiki.nginx.org/HttpLuaModule#ngx.req.socket%27" tppabs="http://wiki.nginx.org/HttpLuaModule#ngx.req.socket">ngx.req.socket()</a> object (i.e., the downstream cosocket object) did not work with HTTP 1.1 pipelined requests at all.</li>
<li>bugfix: the <a href="javascript:if(confirm(%27http://wiki.nginx.org/HttpLuaModule  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://wiki.nginx.org/HttpLuaModule#ngx.req.socket%27" tppabs="http://wiki.nginx.org/HttpLuaModule#ngx.req.socket">ngx.req.socket()</a> object might lose the last part of the request body when receiving data. this regression had appeared in v0.5.0rc25. thanks Matthieu Tourne for reporting it.</li>
<li>feature: detailed backtraces (Lua callstack) will be automatically printed to <code>error.log</code> when the user Lua code is interrupted by Lua exceptions. thanks Matthieu Tourne for the patch in <a href="javascript:if(confirm(%27https://github.com/chaoslawful/lua-nginx-module/pull/107  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27https://github.com/chaoslawful/lua-nginx-module/pull/107%27" tppabs="https://github.com/chaoslawful/lua-nginx-module/pull/107">pull request #107</a>.</li>
<li>optimize: removed dead code found by Simon Liu via scan-build.</li>
</ul></li>
<li>upgraded <a href="rds-csv-nginx-module.html" tppabs="http://openresty.org/cn/rds-csv-nginx-module.html">Rds Csv Nginx Module</a> to 0.05rc2.
<ul>
<li>bugfix: the output buffer size would get wrong when the <code>affected_rows</code> field is larger than a single-digit number. thanks Wendal Chen for reporting this by using clang.</li>
</ul></li>
<li>upgraded <a href="lua-resty-string-library.html" tppabs="http://openresty.org/cn/lua-resty-string-library.html">Lua Resty String Library</a> to 0.06.
<ul>
<li>added new Lua module <code>resty.random</code> that implements secure random and pseudo-random string generators. thanks Chase Colman for the patch.</li>
<li>added new Lua module <code>resty.aes</code> that exposes the AES submodule of OpenSSL via <a href="luajit.html" tppabs="http://openresty.org/cn/luajit.html">LuaJIT</a> FFI. thanks Chase Colman for the patch.</li>
</ul></li>
</ul>
<h1 id="mainline-version-1.0.15.3---13-may-2012">Mainline Version 1.0.15.3 - 13 May 2012</h1>
<ul>
<li>now we bundle Sergey A. Osokin's <a href="redis-nginx-module.html" tppabs="http://openresty.org/cn/redis-nginx-module.html">Redis Nginx Module</a>, 0.3.6, which is also enabled by default. thanks Zhu Feng for requesting this.</li>
<li>upgraded <a href="lua-nginx-module.html" tppabs="http://openresty.org/cn/lua-nginx-module.html">Lua Nginx Module</a> to 0.5.0rc27.
<ul>
<li>bugfix: nginx could crash on request finalization when running the cosocket cleanup handle due to the lack of check of the <code>ctx</code> pointer. thanks shaneeb for reporting this in <a href="javascript:if(confirm(%27https://github.com/chaoslawful/lua-nginx-module/issues/110  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27https://github.com/chaoslawful/lua-nginx-module/issues/110%27" tppabs="https://github.com/chaoslawful/lua-nginx-module/issues/110">github issue #110</a>.</li>
<li>bugfix: <a href="javascript:if(confirm(%27http://wiki.nginx.org/HttpLuaModule  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://wiki.nginx.org/HttpLuaModule#ngx.req.get_body_data%27" tppabs="http://wiki.nginx.org/HttpLuaModule#ngx.req.get_body_data">ngx.req.get_body_data()</a> could not handle multi-buffer request bodies and discarded the body data after the first buffer.</li>
<li>bugfix: <a href="javascript:if(confirm(%27http://wiki.nginx.org/HttpLuaModule  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://wiki.nginx.org/HttpLuaModule#ngx.ctx%27" tppabs="http://wiki.nginx.org/HttpLuaModule#ngx.ctx">ngx.ctx</a> was not accessible at all in <code>set_by_lua*</code>. thanks Pierre.</li>
<li>bugfix: fixed typo &quot;on-array&quot;, which should be &quot;non-array&quot;, in an error message.</li>
<li>optimize: now <a href="javascript:if(confirm(%27http://wiki.nginx.org/HttpLuaModule  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://wiki.nginx.org/HttpLuaModule#ngx.log%27" tppabs="http://wiki.nginx.org/HttpLuaModule#ngx.log">ngx.log</a> is much faster when the log level argument is lower than the actual <a href="javascript:if(confirm(%27http://wiki.nginx.org/CoreModule  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://wiki.nginx.org/CoreModule#error_log%27" tppabs="http://wiki.nginx.org/CoreModule#error_log">error_log</a> level specified in nginx.conf. thanks Matthieu Tourne for providing the patch.</li>
<li>optimize: now we call <code>ngx_http_lua_socket_finalize</code> in <code>cosocket:setkeepalive()</code> to help buffer reuse.</li>
</ul></li>
<li>upgraded <a href="set-misc-nginx-module.html" tppabs="http://openresty.org/cn/set-misc-nginx-module.html">Set Misc Nginx Module</a> to 0.22rc8.
<ul>
<li>feature: added new directives <a href="javascript:if(confirm(%27http://wiki.nginx.org/HttpSetMiscModule  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://wiki.nginx.org/HttpSetMiscModule#set_secure_random_alphanum%27" tppabs="http://wiki.nginx.org/HttpSetMiscModule#set_secure_random_alphanum">set_secure_random_alphanum</a> and <a href="">set_secure_random_lcalpha|http://wiki.nginx.org/HttpSetMiscModule#set_secure_random_lcalpha</a> for generating cryptographically strong random strings based on the <code>/dev/urandom</code> device. thanks Jeremy Wohl for the patch.</li>
</ul></li>
<li>upgraded <a href="srcache-nginx-module.html" tppabs="http://openresty.org/cn/srcache-nginx-module.html">Srcache Nginx Module</a> to 0.13rc8.
<ul>
<li>bugfix: the <code>Content-Length</code> response header for HEAD requests should leave intact when cache hits happen.</li>
<li>bugfix: the <a href="javascript:if(confirm(%27http://wiki.nginx.org/HttpSRCacheModule  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://wiki.nginx.org/HttpSRCacheModule#srcache_store%27" tppabs="http://wiki.nginx.org/HttpSRCacheModule#srcache_store">srcache_store</a> subrequest did not set the <code>Content-Length</code> request header properly for multi-buffer request bodies. thanks Feibo Lee for submitting the patch.</li>
<li>feature: HTTP conditional GET requests are now supported (both <code>If-Modified-Since</code> and <code>If-Unmodified-Since</code> request headers are properly handled). thanks Nginx_User777.</li>
</ul></li>
<li>upgraded <a href="lua-redis-parser-library.html" tppabs="http://openresty.org/cn/lua-redis-parser-library.html">Lua Redis Parser Library</a> to v0.09.
<ul>
<li>feature: added <code>redis.parser._VERSION</code>.</li>
<li>bugfix: now we use Lua userdata to allocate memory used on the C side to prevent potential leaks caused by malloc/free, as discussed in <a href="javascript:if(confirm(%27https://github.com/agentzh/lua-redis-parser/issues/6  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27https://github.com/agentzh/lua-redis-parser/issues/6%27" tppabs="https://github.com/agentzh/lua-redis-parser/issues/6">github issue #6</a>.</li>
</ul></li>
<li>upgraded <a href="lua-rds-parser-library.html" tppabs="http://openresty.org/cn/lua-rds-parser-library.html">Lua Rds Parser Library</a> to 0.05.
<ul>
<li>feature: added <code>redis.parser._VERSION</code>.</li>
<li>bugfix: now we use Lua userdata to allocate memory used on the C side to prevent potential leaks caused by malloc/free, as discussed in <a href="javascript:if(confirm(%27https://github.com/agentzh/lua-redis-parser/issues/6  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27https://github.com/agentzh/lua-redis-parser/issues/6%27" tppabs="https://github.com/agentzh/lua-redis-parser/issues/6">github issue #6</a>.</li>
</ul></li>
<li>upgraded <a href="lua-resty-memcached-library.html" tppabs="http://openresty.org/cn/lua-resty-memcached-library.html">Lua Resty Memcached Library</a> to 0.07.
<ul>
<li>feature: now the methods for the Memcached storage commands now accept Lua tables as the <code>value</code> argument. thanks Brian Akins for the patch.</li>
</ul></li>
<li>upgraded <a href="lua-resty-upload-library.html" tppabs="http://openresty.org/cn/lua-resty-upload-library.html">Lua Resty Upload Library</a> to 0.03.
<ul>
<li>feature: now the raw headers for each part are also returned, as suggested by zou2062 in <a href="javascript:if(confirm(%27https://github.com/agentzh/lua-resty-upload/issues/1  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27https://github.com/agentzh/lua-resty-upload/issues/1%27" tppabs="https://github.com/agentzh/lua-resty-upload/issues/1">github issue #1</a>.</li>
</ul></li>
<li>applied the patch for a bug in <code>ngx_http_named_location</code> to the nginx core: <a href="javascript:if(confirm(%27http://mailman.nginx.org/pipermail/nginx-devel/2012-May/002166.html  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://mailman.nginx.org/pipermail/nginx-devel/2012-May/002166.html%27" tppabs="http://mailman.nginx.org/pipermail/nginx-devel/2012-May/002166.html" class="uri">http://mailman.nginx.org/pipermail/nginx-devel/2012-May/002166.html</a></li>
<li>applied the patch for a bug in the filter finalizer to the nginx core: <a href="javascript:if(confirm(%27http://mailman.nginx.org/pipermail/nginx-devel/2012-May/002190.html  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://mailman.nginx.org/pipermail/nginx-devel/2012-May/002190.html%27" tppabs="http://mailman.nginx.org/pipermail/nginx-devel/2012-May/002190.html" class="uri">http://mailman.nginx.org/pipermail/nginx-devel/2012-May/002190.html</a></li>
</ul>
<h1 id="mainline-version-1.0.15.1---29-april-2012">Mainline Version 1.0.15.1 - 29 April 2012</h1>
<ul>
<li>upgraded the <a href="nginx.html" tppabs="http://openresty.org/cn/nginx.html">Nginx</a> core to 1.0.15.</li>
<li>bugfix: now we also add <code>&lt;openresty_prefix&gt;/lualib/?/init.lua</code> to the default <code>package.path</code> search list. thanks bigplum for reporting this issue.</li>
<li>upgraded <a href="lua-nginx-module.html" tppabs="http://openresty.org/cn/lua-nginx-module.html">Lua Nginx Module</a> to 0.5.0rc25.
<ul>
<li>bugfix: cosocket connections from the connection pool might lead to segfaults if it is not used immediately. thanks xukaifu for reporting this as <a href="javascript:if(confirm(%27https://github.com/chaoslawful/lua-nginx-module/issues/108  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27https://github.com/chaoslawful/lua-nginx-module/issues/108%27" tppabs="https://github.com/chaoslawful/lua-nginx-module/issues/108">github issue #108</a>.</li>
<li>bugfix: debug logging in the cosocket receive line method could lead to invalid memory reads under extreme network conditions. this issue was caught by <a href="javascript:if(confirm(%27https://github.com/agentzh/mockeagain  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27https://github.com/agentzh/mockeagain%27" tppabs="https://github.com/agentzh/mockeagain">mockeagain</a> in reading mode.</li>
<li>bugfix: downstream cosockets might hang on the receive(size) method call for slow connections. <a href="javascript:if(confirm(%27https://github.com/agentzh/mockeagain  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27https://github.com/agentzh/mockeagain%27" tppabs="https://github.com/agentzh/mockeagain">mockeagain</a> in reading mode caught this issue.</li>
<li>bugfix: we no longer forcibly quit the lua threads by clearing out its environment and running it blindly to the end because Lua GC will collect all those unfinished coroutines anyway.</li>
<li>bugfix: improved the longjmp handling when Lua panic happens.</li>
<li>bugfix: certain compilers might complain about missing declarations for types like <code>int8_t</code>. now we explicitly included <code>stdint.h</code>. thanks runner-mei for reporting it in <a href="javascript:if(confirm(%27https://github.com/chaoslawful/lua-nginx-module/issues/98  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27https://github.com/chaoslawful/lua-nginx-module/issues/98%27" tppabs="https://github.com/chaoslawful/lua-nginx-module/issues/98">github issue #98</a>.</li>
<li>feature: added new constant <code>ngx.HTTP_OPTIONS</code> for the HTTP OPTIONS method.</li>
<li>feature: added support for OPTIONS method in the subrequest capture APIs. thanks Jónas Tryggvi Jóhannsson for requesting this in <a href="javascript:if(confirm(%27https://github.com/chaoslawful/lua-nginx-module/issues/102  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27https://github.com/chaoslawful/lua-nginx-module/issues/102%27" tppabs="https://github.com/chaoslawful/lua-nginx-module/issues/102">github issue #102</a>.</li>
<li>feature: added publich C functions <code>ngx_http_lua_add_package_preload</code>, <code>ngx_http_lua_get_global_state</code>, and <code>ngx_http_lua_get_request</code> to help other <a href="nginx.html" tppabs="http://openresty.org/cn/nginx.html">Nginx</a> C modules expose new functionalities to <a href="lua-nginx-module.html" tppabs="http://openresty.org/cn/lua-nginx-module.html">Lua Nginx Module</a>. thanks Brian Akins for suggesting them in <a href="javascript:if(confirm(%27https://github.com/chaoslawful/lua-nginx-module/pull/101  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27https://github.com/chaoslawful/lua-nginx-module/pull/101%27" tppabs="https://github.com/chaoslawful/lua-nginx-module/pull/101">github pull request #101</a>.</li>
<li>feature: made <code>ngx_http_lua_api.h</code> visible to other <a href="nginx.html" tppabs="http://openresty.org/cn/nginx.html">Nginx</a> modules by adding <code>src/api/</code> to the <code>CORE_INCS</code> config variable value in the config file. thanks Brian Akins for suggesting this in <a href="javascript:if(confirm(%27https://github.com/chaoslawful/lua-nginx-module/pull/105  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27https://github.com/chaoslawful/lua-nginx-module/pull/105%27" tppabs="https://github.com/chaoslawful/lua-nginx-module/pull/105">github pull request #105</a>.</li>
<li>feature: add the <code>gdbinit</code> script to ease Lua user code debugging (Wang Xiaozhe).</li>
<li>optimize: various optimizations in cosocket's timeout handling. this gives about 2.5+% performance boost in some benchmarks using <a href="lua-resty-redis-library.html" tppabs="http://openresty.org/cn/lua-resty-redis-library.html">Lua Resty Redis Library</a> and <a href="lua-resty-mysql-library.html" tppabs="http://openresty.org/cn/lua-resty-mysql-library.html">Lua Resty MySQL Library</a>.</li>
</ul></li>
<li>upgraded <a href="rds-json-nginx-module.html" tppabs="http://openresty.org/cn/rds-json-nginx-module.html">Rds Json Nginx Module</a> to v0.12rc8.
<ul>
<li>bugfix: Microsoft C compilers complained about missing declarations of the type <code>int8_t</code>. now we explicitly include <code>stdint.h</code>. thanks runner-mei for reporting this issue in <a href="javascript:if(confirm(%27https://github.com/agentzh/rds-json-nginx-module/issues/3  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27https://github.com/agentzh/rds-json-nginx-module/issues/3%27" tppabs="https://github.com/agentzh/rds-json-nginx-module/issues/3">github issue #3</a>.</li>
</ul></li>
<li>upgraded <a href="set-misc-nginx-module.html" tppabs="http://openresty.org/cn/set-misc-nginx-module.html">Set Misc Nginx Module</a> to 0.22rc7.
<ul>
<li>bugfix: we should omit the <a href="javascript:if(confirm(%27http://wiki.nginx.org/HttpSetMiscModule  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://wiki.nginx.org/HttpSetMiscModule#set_sha1%27" tppabs="http://wiki.nginx.org/HttpSetMiscModule#set_sha1">set_sha1</a> directive when we do not have any SHA1 libraries (including OpenSSL) installed. thanks runner-mei for reporting this in <a href="javascript:if(confirm(%27https://github.com/agentzh/set-misc-nginx-module/issues/9  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27https://github.com/agentzh/set-misc-nginx-module/issues/9%27" tppabs="https://github.com/agentzh/set-misc-nginx-module/issues/9">github issue #9</a>.</li>
<li>feature: added new config directive <a href="javascript:if(confirm(%27http://wiki.nginx.org/HttpSetMiscModule  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://wiki.nginx.org/HttpSetMiscModule#set_rotate%27" tppabs="http://wiki.nginx.org/HttpSetMiscModule#set_rotate">set_rotate</a>.</li>
</ul></li>
<li>upgraded <a href="drizzle-nginx-module.html" tppabs="http://openresty.org/cn/drizzle-nginx-module.html">Drizzle Nginx Module</a> to 0.1.2rc7.
<ul>
<li>bugfix: reading data on a reused MySQL connection (coming from the connection pool) could hang due to the inactive read event when <code>poll</code> event API is used in nginx.</li>
</ul></li>
<li>upgraded <a href="lua-resty-mysql-library.html" tppabs="http://openresty.org/cn/lua-resty-mysql-library.html">Lua Resty MySQL Library</a> to 0.07.
<ul>
<li>fixed a typo in error messages.</li>
<li>skipped parsing those column fields that we do not use (yet). this makes things noticeably faster.</li>
</ul></li>
</ul>
<p>See <a href="changelog-1000011.html" tppabs="http://openresty.org/cn/changelog-1000011.html">ChangeLog 1.0.11</a> for change log for ngx_openresty 1.0.11.x.</p>

        </div><!-- / body -->
</div><!-- / item -->

		</section><!-- / main -->

<div class="sidebar sright">
        <div class="options">
                <!--
                <ul class="first">
                        <li><a href="#" class="close-all">close all</a></li>
                        <li><a href="#" class="permaview">permaview</a></li>
                        <li><a href="#" class="more-options">options</a></li>
                </ul> --><!-- / first -->
        </div><!-- options -->

        <div class="tabs">
                <ul class="navigation">
                        <!--
                        <li><a href="#" class="current">Timeline</a></li>
                        <li><a href="#">All</a></li>
                        <li><a href="#">Tags</a></li>
                        <li><a href="#">More</a></li>
                        -->
                        <li><span>最近更新</span></li>
                </ul><!-- / navigation -->
                <div class="panes">
                        <div class="pane" id="timeline">
                                <ul>
                                    <li>
                                            <h3>20 Mar 2016</h3>
                                            <ul>
                                                <li><a href="lua-cjson-library.html" tppabs="http://openresty.org/cn/lua-cjson-library.html">Lua Cjson Library</a></li>
                                            </ul>
                                    </li>
                                    <li>
                                            <h3>17 Mar 2016</h3>
                                            <ul>
                                                <li><a href="download.html" tppabs="http://openresty.org/cn/download.html">Download</a></li>
                                                <li><a href="changelog-1009007.html" tppabs="http://openresty.org/cn/changelog-1009007.html">ChangeLog 1.9.7</a></li>
                                            </ul>
                                    </li>
                                    <li>
                                            <h3>22 Jan 2016</h3>
                                            <ul>
                                                <li><a href="installation.html" tppabs="http://openresty.org/cn/installation.html">Installation</a></li>
                                            </ul>
                                    </li>
                                    <li>
                                            <h3>05 Jan 2016</h3>
                                            <ul>
                                                <li><a href="about.html" tppabs="http://openresty.org/cn/about.html">About</a></li>
                                            </ul>
                                    </li>
                                    <li>
                                            <h3>30 Dec 2015</h3>
                                            <ul>
                                                <li><a href="index.htm" tppabs="http://openresty.org/cn/openresty.html">OpenResty</a></li>
                                            </ul>
                                    </li>
                                    <li>
                                            <h3>25 Dec 2015</h3>
                                            <ul>
                                                <li><a href="main-menu.html" tppabs="http://openresty.org/cn/main-menu.html">Main Menu</a></li>
                                                <li><a href="changes.html" tppabs="http://openresty.org/cn/changes.html">Changes</a></li>
                                            </ul>
                                    </li>
                                    <li>
                                            <h3>23 Nov 2015</h3>
                                            <ul>
                                                <li><a href="components.html" tppabs="http://openresty.org/cn/components.html">Components</a></li>
                                                <li><a href="changelog-1009003.html" tppabs="http://openresty.org/cn/changelog-1009003.html">ChangeLog 1.9.3</a></li>
                                                <li><a href="resty-cli.html" tppabs="http://openresty.org/cn/resty-cli.html">Resty CLI</a></li>
                                            </ul>
                                    </li>
                                    <li>
                                            <h3>11 Aug 2015</h3>
                                            <ul>
                                                <li><a href="donate-online.html" tppabs="http://openresty.org/cn/donate-online.html">Donate Online</a></li>
                                                <li><a href="donors.html" tppabs="http://openresty.org/cn/donors.html">Donors</a></li>
                                            </ul>
                                    </li>
                                    <li>
                                            <h3>03 Jul 2015</h3>
                                            <ul>
                                                <li><a href="changelog-1007010.html" tppabs="http://openresty.org/cn/changelog-1007010.html">ChangeLog 1.7.10</a></li>
                                            </ul>
                                    </li>
                                    <li>
                                            <h3>04 Feb 2015</h3>
                                            <ul>
                                                <li><a href="changelog-1007007.html" tppabs="http://openresty.org/cn/changelog-1007007.html">ChangeLog 1.7.7</a></li>
                                            </ul>
                                    </li>
                                    <li>
                                            <h3>10 Oct 2014</h3>
                                            <ul>
                                                <li><a href="changelog-1007004.html" tppabs="http://openresty.org/cn/changelog-1007004.html">ChangeLog 1.7.4</a></li>
                                            </ul>
                                    </li>
                                    <li>
                                            <h3>13 Jul 2014</h3>
                                            <ul>
                                                <li><a href="changelog-1007002.html" tppabs="http://openresty.org/cn/changelog-1007002.html">ChangeLog 1.7.2</a></li>
                                            </ul>
                                    </li>
                                </ul>
                        </div><!-- / pane -->
                </div><!-- / panes -->
        </div><!-- / tabs -->
</div><!-- / sidebar right -->

	</div><!-- / wrapper -->

<div class="content-footer">
<hr class="footer-sep"/>
<div class="footer">
  <p>版权所有 © 2016 章亦春（agentzh）</p>
  <p>100% 由 OpenResty 和 PostgreSQL 驱动
     （<a href="javascript:if(confirm(%27https://github.com/openresty/openresty.org/  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27https://github.com/openresty/openresty.org/%27" tppabs="https://github.com/openresty/openresty.org/">
     查看本站的源代码</a>）</p>
  <br/>
  <p>京ICP备16021991号</p>
</div>
</div>

<script src="jquery.min.js" tppabs="http://openresty.org/js/jquery.min.js"></script>
<script src="main.js" tppabs="http://openresty.org/js/main.js"></script>

<!-- Google analytics -->
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-24724965-1']);
  //_gaq.push(['_setDomainName', 'http://openresty.org/cn/openresty.org']);
  _gaq.push(['_trackPageview']);

  var ga_f = function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www/') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  };
  setTimeout(ga_f, 0);

</script>


</body>
</html>
