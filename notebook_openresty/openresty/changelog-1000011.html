<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>OpenResty - ChangeLog 1.0.11</title>
	<link href="fonts.css" tppabs="https://openresty.org/css/fonts.css" rel='stylesheet' type='text/css'>
	<!--
	If you ever wanted to use LESS instead of CSS...
	<link rel="stylesheet" type="text/less" href="/css/main.less">
	<script src="/js/less.js"></script>
	-->
	<link rel="stylesheet" type="text/css" href="main.css" tppabs="http://openresty.org/css/main.css">
</head>
<body>

<header role="header">
        <p class="site-name left">
                <a href="javascript:if(confirm(%27http://openresty.org/en/.  \n\nThis file was not retrieved by Teleport Ultra, because the server reports that this file cannot be found.  \n\nDo you want to open it from the server?%27))window.location=%27http://openresty.org/en/.%27" tppabs="http://openresty.org/en/.">OpenResty</a>
                <small>Scalable Web Platform by Extending NGINX with Lua</small>
        </p><!-- / site-name -->

        <form action="http://openresty.org/en/search.html" class="right">
                <fieldset>
                        <input type="search" name="query" id="search"
                               placeholder="Search OpenResty.org" required>
                </fieldset>
        </form>
</header>


	<div id="wrapper">
		<div class="sidebar sleft">
			<nav id="nav">
<ul>
<li><a href="getting-started.html" tppabs="http://openresty.org/en/getting-started.html">Getting Started</a></li>
<li><a href="download.html" tppabs="http://openresty.org/en/download.html">Download</a></li>
<li><a href="installation.html" tppabs="http://openresty.org/en/installation.html">Installation</a></li>
<li><a href="upgrading.html" tppabs="http://openresty.org/en/upgrading.html">Upgrading</a></li>
<li><a href="changes.html" tppabs="http://openresty.org/en/changes.html">Changes</a></li>
<li><a href="components.html" tppabs="http://openresty.org/en/components.html">Components</a></li>
<li><a href="community.html" tppabs="http://openresty.org/en/community.html">Community</a></li>
<li><a href="benchmark.html" tppabs="http://openresty.org/en/benchmark.html">Benchmark</a></li>
<li><a href="contact-us.html" tppabs="http://openresty.org/en/contact-us.html">Contact us</a></li>
<li><a href="debugging.html" tppabs="http://openresty.org/en/debugging.html">Debugging</a></li>
<li><a href="donate-online.html" tppabs="http://openresty.org/en/donate-online.html">Donate Online</a></li>
<li><a href="donors.html" tppabs="http://openresty.org/en/donors.html">Donors</a></li>
<li><a href="ebooks.html" tppabs="http://openresty.org/en/ebooks.html">eBooks</a></li>
<li><a href="faq.html" tppabs="http://openresty.org/en/faq.html">FAQ</a></li>
<li><a href="getting-involved.html" tppabs="http://openresty.org/en/getting-involved.html">Getting Involved</a></li>
<li><a href="presentations.html" tppabs="http://openresty.org/en/presentations.html">Presentations</a></li>
<li><a href="profiling.html" tppabs="http://openresty.org/en/profiling.html">Profiling</a></li>
<li><a href="quality-assurance.html" tppabs="http://openresty.org/en/quality-assurance.html">Quality Assurance</a></li>
<li><a href="resources.html" tppabs="http://openresty.org/en/resources.html">Resources</a></li>
<li><a href="samples.html" tppabs="http://openresty.org/en/samples.html">Samples</a></li>
<li><a href="javascript:if(confirm(%27https://openresty.org/survey/  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27https://openresty.org/survey/%27" tppabs="https://openresty.org/survey/">User Survey</a></li>
<li><a href="about.html" tppabs="http://openresty.org/en/about.html">About</a></li>
<li><a href="javascript:if(confirm(%27http://openresty.org/cn/  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://openresty.org/cn/%27" tppabs="http://openresty.org/cn/">中文站</a></li>
</ul>

			</nav><!-- / nav -->

<ul class="buttons">
    <!-- <li><a href="#" class="btn rss">RSS Feed</a></li> -->
    <li>
        <!-- <a href="#" class="btn paypal">Donate with PayPal</a> -->
        <form name="_xclick" action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_blank">
        <input type="hidden" name="cmd" value="_xclick">
        <input type="hidden" name="business" value="agentzh@gmail.com">
        <input type="hidden" name="item_name" value="OpenResty Donation (in USD)">
        <input type="hidden" name="currency_code" value="USD">
        <input type="hidden" name="amount" value="">
        <input type="image" src="donate_paypal.gif" tppabs="http://openresty.org/images/donate_paypal.gif" border="0" name="submit" alt="Donate with PayPal">
        </form>
    </li>
</ul>


		</div><!-- / sidebar left -->
		
		<section id="main">
<div class="item">
        <header>
                <h2>ChangeLog 1.0.11</h2>
                <small>
                    <a href="yichun-zhang.html" tppabs="http://openresty.org/en/yichun-zhang.html">
                    Yichun Zhang
                    </a>,
                    25 Mar 2012 (created 02 Feb 2012)</small>
                <div class="options">
                        <!--
                        <a href="#" class="trigger">Show Options</a>
                        <ul class="first-level">
                                <li><a href="#">close</a></li>
                                <li><a href="#">close others</a></li>
                                <li><a href="#">view</a></li>
                                <li><a href="#">fields</a></li>
                                <li><a href="#">syncing</a></li>
                                <li><a href="#">permalink</a></li>
                                <li><a href="#">references</a></li>
                                <li>
                                        <a href="#">jump</a>
                                        <ul class="second-level">
                                                <li><a href="#">Benchmark</a></li>
                                                <li><a href="#">Presentations</a></li>
                                                <li><a href="#">eBooks</a></li>
                                        </ul>
                                </li>
                        </ul>
                        -->
                </div><!-- / options -->
        </header>
        <div class="body">
<h1 id="stable-release-1.0.11.28---25-march-2012">Stable Release 1.0.11.28 - 25 March 2012</h1>
<p>Same as the devel release 1.0.11.27.</p>
<p><a href="components.html" tppabs="http://openresty.org/en/components.html">Components</a> bundled with this release:</p>
<ul>
<li>LuaJIT-2.0.0-beta9 (hotfix #1)</li>
<li>array-var-nginx-module-0.03rc1</li>
<li>auth-request-nginx-module-0.2</li>
<li>drizzle-nginx-module-0.1.2rc6</li>
<li>echo-nginx-module-0.38rc2</li>
<li>encrypted-session-nginx-module-0.02</li>
<li>form-input-nginx-module-0.07rc5</li>
<li>headers-more-nginx-module-0.17rc1</li>
<li>iconv-nginx-module-0.10rc7</li>
<li>lua-5.1.4</li>
<li>lua-cjson-1.0.3</li>
<li>lua-rds-parser-0.04</li>
<li>lua-redis-parser-0.09rc7</li>
<li>lua-resty-memcached-0.06</li>
<li>lua-resty-mysql-0.06</li>
<li>lua-resty-redis-0.08</li>
<li>lua-resty-string-0.05</li>
<li>lua-resty-upload-0.02</li>
<li>memc-nginx-module-0.13rc3</li>
<li>nginx-1.0.11</li>
<li>ngx_coolkit-0.2rc1</li>
<li>ngx_devel_kit-0.2.17</li>
<li>ngx_lua-0.5.0rc21</li>
<li>ngx_postgres-0.9</li>
<li>rds-csv-nginx-module-0.05rc1</li>
<li>rds-json-nginx-module-0.12rc7</li>
<li>redis2-nginx-module-0.08rc4</li>
<li>set-misc-nginx-module-0.22rc5</li>
<li>srcache-nginx-module-0.13rc6</li>
<li>upstream-keepalive-nginx-module-0.7</li>
<li>xss-nginx-module-0.03rc9</li>
</ul>
<h1 id="mainline-version-1.0.11.27---22-march-2012">Mainline Version 1.0.11.27 - 22 March 2012</h1>
<ul>
<li>upgraded <a href="lua-nginx-module.html" tppabs="http://openresty.org/en/lua-nginx-module.html">Lua Nginx Module</a> to 0.5.0rc21.
<ul>
<li>bugfix: made the sha1 library (or OpenSSL) an optional dependency, as suggested by runner-mei in <a href="javascript:if(confirm(%27https://github.com/openresty/lua-nginx-module/issues/94  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27https://github.com/openresty/lua-nginx-module/issues/94%27" tppabs="https://github.com/openresty/lua-nginx-module/issues/94">github issue #94</a>.</li>
<li>bugfix: we did not declare C variables at the beginning of the current code block in <code>ngx_http_lua_del_thread</code>, reported by runner-mei in <a href="javascript:if(confirm(%27https://github.com/openresty/lua-nginx-module/issues/93  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27https://github.com/openresty/lua-nginx-module/issues/93%27" tppabs="https://github.com/openresty/lua-nginx-module/issues/93">github issue #93</a>.</li>
<li>bugfix: incorrectly used <code>ngx_conf_log_error</code> by feeding <code>NGX_ERROR</code> as the first argument, as reported by runner-mei in <a href="javascript:if(confirm(%27https://github.com/openresty/lua-nginx-module/issues/92  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27https://github.com/openresty/lua-nginx-module/issues/92%27" tppabs="https://github.com/openresty/lua-nginx-module/issues/92">github issue #92</a>.</li>
<li>bugfix: spelling errors in Lua exception message text.</li>
</ul></li>
<li>upgraded <a href="echo-nginx-module.html" tppabs="http://openresty.org/en/echo-nginx-module.html">Echo Nginx Module</a> to 0.38rc2.
<ul>
<li>bugfix: <a href="javascript:if(confirm(%27http://wiki.nginx.org/HttpEchoModule  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://wiki.nginx.org/HttpEchoModule#.24echo_request_body%27" tppabs="http://wiki.nginx.org/HttpEchoModule#.24echo_request_body">$echo_request_body</a> variable was not able to work on arbitrary request body chains (i.e., more than 2 chain links), just like the standard <a href="javascript:if(confirm(%27http://wiki.nginx.org/HttpCoreModule  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://wiki.nginx.org/HttpCoreModule#.24request_body%27" tppabs="http://wiki.nginx.org/HttpCoreModule#.24request_body">$request_body</a> variable that only processes the first two chain links. now <a href="javascript:if(confirm(%27http://wiki.nginx.org/HttpEchoModule  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://wiki.nginx.org/HttpEchoModule#.24echo_request_body%27" tppabs="http://wiki.nginx.org/HttpEchoModule#.24echo_request_body">$echo_request_body</a> no longer has this limitation.</li>
</ul></li>
<li>applied the upstream_pipelining patch to the nginx core, as discussed here: <a href="javascript:if(confirm(%27http://mailman.nginx.org/pipermail/nginx-devel/2012-March/002040.html  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://mailman.nginx.org/pipermail/nginx-devel/2012-March/002040.html%27" tppabs="http://mailman.nginx.org/pipermail/nginx-devel/2012-March/002040.html" class="uri">http://mailman.nginx.org/pipermail/nginx-devel/2012-March/002040.html</a> this patch is required at least for the pipelined requests support in nginx upstream modules.</li>
</ul>
<h1 id="mainline-version-1.0.11.25---16-march-2012">Mainline Version 1.0.11.25 - 16 March 2012</h1>
<ul>
<li>applied the null-character-fixes patch from the mainstream. The bug did result in a disclosure of previously freed memory if upstream server returned specially crafted response, potentially exposing sensitive information.</li>
<li>upgraded <a href="srcache-nginx-module.html" tppabs="http://openresty.org/en/srcache-nginx-module.html">Srcache Nginx Module</a> to 0.13rc6.
<ul>
<li>bugfix: fixed a typo in an error message text for response truncation check in <a href="javascript:if(confirm(%27http://wiki.nginx.org/HttpSRCacheModule  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://wiki.nginx.org/HttpSRCacheModule#srcache_store%27" tppabs="http://wiki.nginx.org/HttpSRCacheModule#srcache_store">srcache_store</a>.</li>
</ul></li>
</ul>
<h1 id="mainline-version-1.0.11.23---15-march-2012">Mainline Version 1.0.11.23 - 15 March 2012</h1>
<ul>
<li>upgraded <a href="lua-nginx-module.html" tppabs="http://openresty.org/en/lua-nginx-module.html">Lua Nginx Module</a> to 0.5.0rc19.
<ul>
<li>feature: added new directive <a href="javascript:if(confirm(%27http://wiki.nginx.org/HttpLuaModule  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://wiki.nginx.org/HttpLuaModule#lua_http10_buffering%27" tppabs="http://wiki.nginx.org/HttpLuaModule#lua_http10_buffering">lua_http10_buffering</a> which is <code>on</code> by default.</li>
<li>feature: added new constant <code>ngx.DECLINED</code>.</li>
<li>bugfix: <a href="javascript:if(confirm(%27http://wiki.nginx.org/HttpLuaModule  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://wiki.nginx.org/HttpLuaModule#access_by_lua%27" tppabs="http://wiki.nginx.org/HttpLuaModule#access_by_lua">access_by_lua</a> could not work with the <code>satisfy any</code> configuration.</li>
<li>bugfix: now we recycle the special flush buffer and chain link for <a href="javascript:if(confirm(%27http://wiki.nginx.org/HttpLuaModule  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://wiki.nginx.org/HttpLuaModule#ngx.flush%27" tppabs="http://wiki.nginx.org/HttpLuaModule#ngx.flush">ngx.flush</a> to prevent request-scoped memory leaks when emitting long data streams to the downstream.</li>
</ul></li>
<li>upgraded <a href="srcache-nginx-module.html" tppabs="http://openresty.org/en/srcache-nginx-module.html">Srcache Nginx Module</a> to 0.13rc5.
<ul>
<li>feature: now <a href="javascript:if(confirm(%27http://wiki.nginx.org/HttpSRCacheModule  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://wiki.nginx.org/HttpSRCacheModule#srcache_store%27" tppabs="http://wiki.nginx.org/HttpSRCacheModule#srcache_store">srcache_store</a> discards responses that are obviously truncated when the actual output data is shorter than what is declared in its <code>Content-Length</code> response header. thanks Greg Grensteiner.</li>
<li>bugfix: the access phase handler actually ran in a phase later than the <code>access</code> phase.</li>
<li>bugfix: HTTP HEAD requests that lead to a cache hits would cause memory issues like invalid reads.</li>
</ul></li>
<li>upgraded <a href="lua-resty-redis-library.html" tppabs="http://openresty.org/en/lua-resty-redis-library.html">Lua Resty Redis Library</a> to 0.08.
<ul>
<li>feature: implemened redis pipelining API by adding new methods <code>init_pipeline</code>, <code>commit_pipeline</code>, and <code>cancel_pipeline</code>.</li>
</ul></li>
</ul>
<h1 id="mainline-version-1.0.11.21---7-march-2012">Mainline Version 1.0.11.21 - 7 March 2012</h1>
<ul>
<li>upgraded <a href="lua-resty-redis-library.html" tppabs="http://openresty.org/en/lua-resty-redis-library.html">Lua Resty Redis Library</a> to 0.07.
<ul>
<li>feature: added the <a href="javascript:if(confirm(%27http://redis.io/commands/eval  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://redis.io/commands/eval%27" tppabs="http://redis.io/commands/eval">evalsha</a> command to the redis command table. thanks Chris Love.</li>
</ul></li>
<li>upgraded <a href="lua-resty-string-library.html" tppabs="http://openresty.org/en/lua-resty-string-library.html">Lua Resty String Library</a> to 0.05.
<ul>
<li>feature: added new modules <code>resty.sha224</code>, <code>resty.sha256</code>, <code>resty.sha384</code>, and <code>resty.sha512</code> to exposes the OpenSSL API for the complete <code>SHA-2</code> hash function set. thanks @lhmwzy.</li>
</ul></li>
<li>upgraded <a href="lua-nginx-module.html" tppabs="http://openresty.org/en/lua-nginx-module.html">Lua Nginx Module</a> to 0.5.0rc17.
<ul>
<li>bugfix: time stamps could overflow on 32-bit systems in the shared dict API; now we explicitly use 64-bit integers.</li>
<li>feature: added new method <code>flush_all</code> to the shared dict. thanks Weiqiang Li.</li>
<li>docs: documented the max concurrent subrequest count limitation and max error log line size limit.</li>
</ul></li>
</ul>
<h1 id="mainline-version-1.0.11.19---1-march-2012">Mainline Version 1.0.11.19 - 1 March 2012</h1>
<ul>
<li>upgraded <a href="redis-2-nginx-module.html" tppabs="http://openresty.org/en/redis-2-nginx-module.html">Redis2 Nginx Module</a> to 0.08rc4.
<ul>
<li>bugfix: redis &quot;nil multi bulk replies&quot; did not parse at all. thanks 郭颖 for reporting this issue.</li>
</ul></li>
<li>upgraded <a href="lua-redis-parser-library.html" tppabs="http://openresty.org/en/lua-redis-parser-library.html">Lua Redis Parser Library</a> to 0.09rc7.
<ul>
<li>bugfix: redis &quot;nil multi bulk replies&quot; did not parse at all. thanks 郭颖 for reporting this issue.</li>
</ul></li>
</ul>
<h1 id="mainline-version-1.0.11.17---29-february-2012">Mainline Version 1.0.11.17 - 29 February 2012</h1>
<ul>
<li>feature: bundle <a href="lua-resty-mysql-library.html" tppabs="http://openresty.org/en/lua-resty-mysql-library.html">Lua Resty MySQL Library</a> 0.06, which is enabled by default.</li>
<li>feature: bundle <a href="lua-resty-redis-library.html" tppabs="http://openresty.org/en/lua-resty-redis-library.html">Lua Resty Redis Library</a> 0.06, which is enabled by default.</li>
<li>feature: bundle <a href="lua-resty-memcached-library.html" tppabs="http://openresty.org/en/lua-resty-memcached-library.html">Lua Resty Memcached Library</a> 0.06, which is enabled by default.</li>
<li>feature: bundle <a href="lua-resty-upload-library.html" tppabs="http://openresty.org/en/lua-resty-upload-library.html">Lua Resty Upload Library</a> 0.02, which is enabled by default.</li>
<li>feature: bundle <a href="lua-resty-string-library.html" tppabs="http://openresty.org/en/lua-resty-string-library.html">Lua Resty String Library</a> 0.04, which is enabled by default.</li>
<li>bugfix: no longer enable <code>-DLUAJIT_USE_VALGRIND</code> for <a href="luajit.html" tppabs="http://openresty.org/en/luajit.html">LuaJIT</a> when <code>--with-debug</code> option is specified.</li>
<li>bugfix: applied the official <a href="javascript:if(confirm(%27http://luajit.org/download/beta9_hotfix1.patch  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://luajit.org/download/beta9_hotfix1.patch%27" tppabs="http://luajit.org/download/beta9_hotfix1.patch">hotfix #1 patch</a> for <a href="luajit.html" tppabs="http://openresty.org/en/luajit.html">LuaJIT</a> 2.0.0 beta9.</li>
<li>feature: raised the default <code>NGX_HTTP_MAX_SUBREQUESTS</code> to 200, in sync with the official repository.</li>
<li>upgraded <a href="lua-nginx-module.html" tppabs="http://openresty.org/en/lua-nginx-module.html">Lua Nginx Module</a> to 0.5.0rc16.
<ul>
<li>bugfix: the shared dict storage might leak memory in the store: <code>ngx_http_lua_shdict_lookup</code> incorrectly assumed that nodes with identical keys are linked together, which might not be true after tree re-balancing. thanks the patch from Lanshun Zhou.</li>
<li>optimize: removed a redundant piece of code for subrequest <code>headers_in</code> fixes in <code>ngx_http_lua_adjust_subrequest</code>.</li>
</ul></li>
</ul>
<h1 id="mainline-version-1.0.11.15---24-february-2012">Mainline Version 1.0.11.15 - 24 February 2012</h1>
<ul>
<li>now we enable the <code>-DLUAJIT_USE_VALGRIND -DLUA_USE_APICHECK -DLUA_USE_ASSERT</code> flags for <a href="luajit.html" tppabs="http://openresty.org/en/luajit.html">LuaJIT</a> when the <code>--with-debug</code> option is specified.</li>
<li>apply the <a href="javascript:if(confirm(%27https://github.com/openresty/ngx_openresty/blob/master/patches/nginx-1.0.11-max_subrequests.patch  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27https://github.com/openresty/ngx_openresty/blob/master/patches/nginx-1.0.11-max_subrequests.patch%27" tppabs="https://github.com/openresty/ngx_openresty/blob/master/patches/nginx-1.0.11-max_subrequests.patch">max_subrequests patch</a> to allow the <code>NGX_HTTP_MAX_SUBREQUESTS</code> macro to be overridden from the outside and adjusted the default value from 50 to 100 because 50 is a little too conservative.</li>
<li>upgraded <a href="xss-nginx-module.html" tppabs="http://openresty.org/en/xss-nginx-module.html">Xss Nginx Module</a> to 0.03rc9, <a href="rds-csv-nginx-module.html" tppabs="http://openresty.org/en/rds-csv-nginx-module.html">Rds Csv Nginx Module</a> to 0.05rc1, and <a href="redis-2-nginx-module.html" tppabs="http://openresty.org/en/redis-2-nginx-module.html">Redis2 Nginx Module</a> to 0.08rc3, allowing enabling <code>DDEBUG=1</code> globally.</li>
<li>upgraded <a href="iconv-nginx-module.html" tppabs="http://openresty.org/en/iconv-nginx-module.html">Iconv Nginx Module</a> to 0.10rc7.
<ul>
<li>bugfix: enabling <code>DDEBUG=1</code> globally lead to compilation errors.</li>
<li>bugfix: could not work with HTTP 1.0 requests.</li>
<li>optimize: only register output filters when the <code>iconv_filter</code> is actually used in the config file.</li>
</ul></li>
<li>upgraded <a href="lua-nginx-module.html" tppabs="http://openresty.org/en/lua-nginx-module.html">Lua Nginx Module</a> to 0.5.0rc15.
<ul>
<li>bugfix: the <code>exptime</code> argument to <code>shdict:set/add/etc</code> methods was incorrectly ignored when the <code>flags</code> argument is also specified. thanks the patch from Brian Akins.</li>
<li>docs: fixed various typos in docs. thanks 王斌.</li>
<li>bugfix: for big input data, the cosocket reading methods could result in crashes due to incorrect use of <code>luaL_Buffer</code>. now we eliminate <code>luaL_Buffer</code> altogether by managing the recv buffers ourselves. the recv buffers can also be recycled.</li>
<li>bugfix: now we avoid using <code>luaL_checkstring</code> which could do another <code>long jump</code> on its own. thanks 王斌.</li>
<li>bugfix: <code>tcpsocket:setkeepalive()</code> did not return errors when the current connection has readable data or there is still unread data in the <a href="lua-nginx-module.html" tppabs="http://openresty.org/en/lua-nginx-module.html">Lua Nginx Module</a> upstream buffer.</li>
<li>bugfix: cosocket methods no longer explicitly return <code>nil</code> error strings upon success.</li>
<li>bugfix: when the parent request takes a request body, the subrequest does not take any bodies, and the subrequest's method is neither <code>PUT</code> nor <code>POST</code>, then the subrequest will no longer inherit the parent request's request body. thanks 欧远宁 for reporting this issue.</li>
<li>bugfix: data might be accidentally read into the Lua space on idle sockets when the last operation is a read operation <em>and</em> a read event suddenly arrives for edge-triggered event models. the same might also apply to write operations too.</li>
<li>bugfix: invalid reads might happen in the reading iterators returned by the <code>receiveuntil()</code> method which could lead to segfaults. this was a bug in the DFA minimizer's optimized code path.</li>
<li>bugfix: the <code>closed</code> error would occur for long-running requests that hold the idle cosocket object for a period of time that is longer than the read timeout setting: we should delete the read event timer in time when the <code>receive</code> call has already got a read event. thanks 欧远宁 for reporting this issue.</li>
<li>logs: added error logs for cosocket timeout errors.</li>
<li>logs: added detailed error logs for cosocket <code>closed</code> errors.</li>
<li>optimize: introduced a minor optimization that we can save one <code>recv</code> call when the read event is active <em>and</em> the read event is not ready.</li>
<li>optimize: now we recycle the downstream output buffers to save memory and dynamic allocation times for long-running requests with huge outputs.</li>
<li>bugfix: C macro directives were used inside a C macro argument which made (at least) gcc 3.2.3 unhappy. thanks Feng Bin.</li>
</ul></li>
</ul>
<h1 id="mainline-version-1.0.11.11---14-february-2012">Mainline Version 1.0.11.11 - 14 February 2012</h1>
<ul>
<li>upgraded <a href="lua-nginx-module.html" tppabs="http://openresty.org/en/lua-nginx-module.html">Lua Nginx Module</a> to 0.5.0rc7.
<ul>
<li>bugfix: cosocket API could not be used before <a href="javascript:if(confirm(%27http://wiki.nginx.org/HttpLuaModule  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://wiki.nginx.org/HttpLuaModule#ngx.location.capture%27" tppabs="http://wiki.nginx.org/HttpLuaModule#ngx.location.capture">ngx.location.capture</a> and its friends for fast network access: <a href="javascript:if(confirm(%27http://wiki.nginx.org/HttpLuaModule  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://wiki.nginx.org/HttpLuaModule#tcpsock:send%27" tppabs="http://wiki.nginx.org/HttpLuaModule#tcpsock:send">tcpsock:send()</a> method did not reset <code>u-&gt;waiting</code> properly. thanks 欧远宁.</li>
</ul></li>
</ul>
<h1 id="mainline-version-1.0.11.9---13-february-2012">Mainline Version 1.0.11.9 - 13 February 2012</h1>
<ul>
<li>upgraded <a href="lua-nginx-module.html" tppabs="http://openresty.org/en/lua-nginx-module.html">Lua Nginx Module</a> to 0.5.0rc6.
<ul>
<li>bugfix: could not compile with nginx 0.8.x. thanks 欧远宁. this bug had appeared in <a href="lua-nginx-module.html" tppabs="http://openresty.org/en/lua-nginx-module.html">Lua Nginx Module</a> v0.5.0rc1.</li>
<li>feature: added the <a href="javascript:if(confirm(%27http://wiki.nginx.org/HttpLuaModule  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://wiki.nginx.org/HttpLuaModule#ngx.sha1_bin%27" tppabs="http://wiki.nginx.org/HttpLuaModule#ngx.sha1_bin">ngx.sha1_bin</a> method which returns the binary form of the <code>SHA-1</code> digest.</li>
<li>bugfix: we incorrectly allowed <code>ngx.null</code> in the string table argument to <a href="javascript:if(confirm(%27http://wiki.nginx.org/HttpLuaModule  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://wiki.nginx.org/HttpLuaModule#tcpsock:send%27" tppabs="http://wiki.nginx.org/HttpLuaModule#tcpsock:send">cosocket:send()</a> method.</li>
<li>feature: allow use of ngx.null in <a href="javascript:if(confirm(%27http://wiki.nginx.org/HttpLuaModule  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://wiki.nginx.org/HttpLuaModule#ngx.log%27" tppabs="http://wiki.nginx.org/HttpLuaModule#ngx.log">ngx.log()</a> and <a href="javascript:if(confirm(%27http://wiki.nginx.org/HttpLuaModule  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://wiki.nginx.org/HttpLuaModule#print%27" tppabs="http://wiki.nginx.org/HttpLuaModule#print">print()</a> arguments.</li>
</ul></li>
<li>added Piotr Sikora's <a href="coolkit-nginx-module.html" tppabs="http://openresty.org/en/coolkit-nginx-module.html">Coolkit Nginx Module</a> 0.2rc1 to the bundle, which is also enabled by default.</li>
</ul>
<h1 id="mainline-version-1.0.11.7---7-february-2012">Mainline Version 1.0.11.7 - 7 February 2012</h1>
<ul>
<li>upgraded <a href="lua-nginx-module.html" tppabs="http://openresty.org/en/lua-nginx-module.html">Lua Nginx Module</a> to 0.5.0rc5.
<ul>
<li>feature: added constant <code>ngx.null</code> which is a <code>NULL</code> light userdata to represent <code>nil</code> values in Lua tables and etc. this is compatible with at least <a href="javascript:if(confirm(%27http://www.kyne.com.au/~mark/software/lua-cjson.php  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://www.kyne.com.au/~mark/software/lua-cjson.php%27" tppabs="http://www.kyne.com.au/~mark/software/lua-cjson.php">lua-cjson</a> library's <code>cjson.null</code> constant.</li>
</ul></li>
</ul>
<h1 id="mainline-version-1.0.11.5---7-february-2012">Mainline Version 1.0.11.5 - 7 February 2012</h1>
<ul>
<li>upgraded <a href="lua-nginx-module.html" tppabs="http://openresty.org/en/lua-nginx-module.html">Lua Nginx Module</a> to 0.5.0rc4.
<ul>
<li>bugfix: setting <code>ngx.header.last_modified</code> was not implemented fully. thanks Brian Akins.</li>
</ul></li>
</ul>
<h1 id="mainline-version-1.0.11.3---6-february-2012">Mainline Version 1.0.11.3 - 6 February 2012</h1>
<ul>
<li>upgraded <a href="lua-nginx-module.html" tppabs="http://openresty.org/en/lua-nginx-module.html">Lua Nginx Module</a> to 0.5.0rc3.
<ul>
<li>feature: now <a href="javascript:if(confirm(%27http://wiki.nginx.org/HttpLuaModule  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://wiki.nginx.org/HttpLuaModule#tcpsock:send%27" tppabs="http://wiki.nginx.org/HttpLuaModule#tcpsock:send">tcpsocket:send()</a> method supports lua tables of string fragments which can save unnecessary string concatenation operations on the Lua land that are usually quite expensive.</li>
<li>bugfix: fixed issues in debugging logs for the cosocket API.</li>
<li>feature: added user flags support to the <a href="javascript:if(confirm(%27http://wiki.nginx.org/HttpLuaModule  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://wiki.nginx.org/HttpLuaModule#ngx.shared.DICT%27" tppabs="http://wiki.nginx.org/HttpLuaModule#ngx.shared.DICT">shared dictionary API</a>. thanks Brian Akins.</li>
</ul></li>
<li>upgraded <a href="lua-redis-parser-library.html" tppabs="http://openresty.org/en/lua-redis-parser-library.html">Lua Redis Parser Library</a> to 0.09rc6.
<ul>
<li>bugfix: remove unneeded string push operations. thanks Brian Akins.</li>
</ul></li>
</ul>
<h1 id="mainline-version-1.0.11.1---2-february-2012">Mainline Version 1.0.11.1 - 2 February 2012</h1>
<ul>
<li>upgraded the <a href="nginx.html" tppabs="http://openresty.org/en/nginx.html">Nginx</a> core to 1.0.11.
<ul>
<li>see the changes here: <a href="javascript:if(confirm(%27http://nginx.org/en/CHANGES-1.0  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://nginx.org/en/CHANGES-1.0%27" tppabs="http://nginx.org/en/CHANGES-1.0" class="uri">http://nginx.org/en/CHANGES-1.0</a></li>
</ul></li>
<li>upgraded <a href="lua-nginx-module.html" tppabs="http://openresty.org/en/lua-nginx-module.html">Lua Nginx Module</a> to 0.5.0rc1.
<ul>
<li>feature: implemented the coroutine-based TCP and Unix Domain client socket API (aka the &quot;cosocket&quot; API) that is mostly compatible with the <a href="javascript:if(confirm(%27http://w3.impa.br/~diego/software/luasocket/tcp.html  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://w3.impa.br/~diego/software/luasocket/tcp.html%27" tppabs="http://w3.impa.br/~diego/software/luasocket/tcp.html">LuaSocket</a> library.</li>
<li>feature: implemented built-in connection pool support for the cosocket API.</li>
<li>feature: added new function <a href="javascript:if(confirm(%27http://wiki.nginx.org/HttpLuaModule  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://wiki.nginx.org/HttpLuaModule#ngx.req.socket%27" tppabs="http://wiki.nginx.org/HttpLuaModule#ngx.req.socket">ngx.req.socket()</a> to return a cosocket object for the downstream connection so as to do streaming request body reading. thanks Taylor Weibley for sponsoring the development work.</li>
<li>optimization: optimized the chain-link and buf recycle logic for the subrequest API and make it share free buffers with the cosocket API.</li>
</ul></li>
<li>upgraded <a href="postgres-nginx-module.html" tppabs="http://openresty.org/en/postgres-nginx-module.html">Postgres Nginx Module</a> to 0.9.
<ul>
<li>bugfix: Fix compatibility with poll, select and /dev/poll event models.</li>
<li>bugfix: Fix compatibility with PostgreSQL 9.x.</li>
<li>bugfix: Fix compatibility with nginx-1.1.4+.</li>
</ul></li>
</ul>
<p>See <a href="changelog-1000010.html" tppabs="http://openresty.org/en/changelog-1000010.html">ChangeLog 1.0.10</a> for change log for ngx_openresty 1.0.10.x.</p>

        </div><!-- / body -->
</div><!-- / item -->

		</section><!-- / main -->

<div class="sidebar sright">
        <div class="options">
                <!--
                <ul class="first">
                        <li><a href="#" class="close-all">close all</a></li>
                        <li><a href="#" class="permaview">permaview</a></li>
                        <li><a href="#" class="more-options">options</a></li>
                </ul> --><!-- / first -->
        </div><!-- options -->

        <div class="tabs">
                <ul class="navigation">
                        <!--
                        <li><a href="#" class="current">Timeline</a></li>
                        <li><a href="#">All</a></li>
                        <li><a href="#">Tags</a></li>
                        <li><a href="#">More</a></li>
                        -->
                        <li><span>Timeline</span></li>
                </ul><!-- / navigation -->
                <div class="panes">
                        <div class="pane" id="timeline">
                                <ul>
                                    <li>
                                            <h3>26 May 2016</h3>
                                            <ul>
                                                <li><a href="donors.html" tppabs="http://openresty.org/en/donors.html">Donors</a></li>
                                            </ul>
                                    </li>
                                    <li>
                                            <h3>11 Apr 2016</h3>
                                            <ul>
                                                <li><a href="using-luarocks.html" tppabs="http://openresty.org/en/using-luarocks.html">Using LuaRocks</a></li>
                                            </ul>
                                    </li>
                                    <li>
                                            <h3>31 Mar 2016</h3>
                                            <ul>
                                                <li><a href="lua-nginx-module.html" tppabs="http://openresty.org/en/lua-nginx-module.html">Lua Nginx Module</a></li>
                                            </ul>
                                    </li>
                                    <li>
                                            <h3>25 Mar 2016</h3>
                                            <ul>
                                                <li><a href="installation.html" tppabs="http://openresty.org/en/installation.html">Installation</a></li>
                                            </ul>
                                    </li>
                                    <li>
                                            <h3>23 Mar 2016</h3>
                                            <ul>
                                                <li><a href="index.htm" tppabs="http://openresty.org/en/openresty.html">OpenResty</a></li>
                                            </ul>
                                    </li>
                                    <li>
                                            <h3>20 Mar 2016</h3>
                                            <ul>
                                                <li><a href="lua-cjson-library.html" tppabs="http://openresty.org/en/lua-cjson-library.html">Lua Cjson Library</a></li>
                                            </ul>
                                    </li>
                                    <li>
                                            <h3>17 Mar 2016</h3>
                                            <ul>
                                                <li><a href="download.html" tppabs="http://openresty.org/en/download.html">Download</a></li>
                                                <li><a href="changelog-1009007.html" tppabs="http://openresty.org/en/changelog-1009007.html">ChangeLog 1.9.7</a></li>
                                            </ul>
                                    </li>
                                    <li>
                                            <h3>08 Mar 2016</h3>
                                            <ul>
                                                <li><a href="presentations.html" tppabs="http://openresty.org/en/presentations.html">Presentations</a></li>
                                            </ul>
                                    </li>
                                    <li>
                                            <h3>29 Dec 2015</h3>
                                            <ul>
                                                <li><a href="contact-us.html" tppabs="http://openresty.org/en/contact-us.html">Contact Us</a></li>
                                                <li><a href="donate-online.html" tppabs="http://openresty.org/en/donate-online.html">Donate Online</a></li>
                                            </ul>
                                    </li>
                                    <li>
                                            <h3>27 Dec 2015</h3>
                                            <ul>
                                                <li><a href="resources.html" tppabs="http://openresty.org/en/resources.html">Resources</a></li>
                                            </ul>
                                    </li>
                                    <li>
                                            <h3>21 Dec 2015</h3>
                                            <ul>
                                                <li><a href="main-menu.html" tppabs="http://openresty.org/en/main-menu.html">Main Menu</a></li>
                                            </ul>
                                    </li>
                                    <li>
                                            <h3>20 Dec 2015</h3>
                                            <ul>
                                                <li><a href="changes.html" tppabs="http://openresty.org/en/changes.html">Changes</a></li>
                                            </ul>
                                    </li>
                                    <li>
                                            <h3>23 Nov 2015</h3>
                                            <ul>
                                                <li><a href="components.html" tppabs="http://openresty.org/en/components.html">Components</a></li>
                                                <li><a href="changelog-1009003.html" tppabs="http://openresty.org/en/changelog-1009003.html">ChangeLog 1.9.3</a></li>
                                            </ul>
                                    </li>
                                    <li>
                                            <h3>31 Jul 2015</h3>
                                            <ul>
                                                <li><a href="faq.html" tppabs="http://openresty.org/en/faq.html">Frequently Asked Questions</a></li>
                                            </ul>
                                    </li>
                                </ul>
                        </div><!-- / pane -->
                </div><!-- / panes -->
        </div><!-- / tabs -->
</div><!-- / sidebar right -->

	</div><!-- / wrapper -->

<div class="content-footer">
<hr class="footer-sep"/>
<div class="footer">
  <p>Copyright © 2016 Yichun Zhang (agentzh)</p>
  <p>100% Powered by OpenResty and PostgreSQL
     (<a href="javascript:if(confirm(%27https://github.com/openresty/openresty.org/  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27https://github.com/openresty/openresty.org/%27" tppabs="https://github.com/openresty/openresty.org/">
     view the source code of this site</a>)</p>
  <br/>
  <p>京ICP备16021991号</p>
</div>
</div>

<script src="jquery.min.js" tppabs="http://openresty.org/js/jquery.min.js"></script>
<script src="main.js" tppabs="http://openresty.org/js/main.js"></script>

<!-- Google analytics -->
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-24724965-1']);
  //_gaq.push(['_setDomainName', 'http://openresty.org/en/openresty.org']);
  _gaq.push(['_trackPageview']);

  var ga_f = function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www/') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  };
  setTimeout(ga_f, 0);

</script>


</body>
</html>
